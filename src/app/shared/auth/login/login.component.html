<div class="flex justify-content-center surface-200 align-items-center w-screen h-screen">
    <div class="grid w-7 h-26rem p-0 shadow-2 border-round-xl surface-100">
            <div class="col-6 flex flex-column justify-content-center align-items-center left-side h-full border-round-xl border-noround-right">
                <img src="/layout/images/logo.png" class="cursor-pointer" alt="Login Image" style="width: 7rem; object-fit: cover;">
                <h1 class="text-center text-primary font-bold mb-4">FARMASALUD PERÚ</h1>
                <h4>Tu salud es nuestra prioridad</h4>
            </div>
            <div class="col-6 flex flex-column justify-content-center align-items-center px-7">
                <h2 class="font-bold">Bienvenido</h2>
                <form [formGroup]="formAuth" class="p-fluid p-formgrid grid mt-0">
                    <div class="col-12 mb-3 p-0 w-full p-fluid text-left">
                        <label for="username" class="text-lg">Usuario</label>
                        <input pInputText id="username" placeholder="Ingrese usuario" formControlName="username" class="w-full p-fluid"
                        [ngClass]="{'ng-invalid ng-dirty': hasError('username', 'required')}"/>
                        @if (hasError('username', 'required')) {
                            <div class="p-error">Por favor ingrese el usuario</div>
                        }  
                    </div>
                    <br/>
                    <div class="col-12 mb-3 p-0  p-fluid text-left">
                        <label for="password" class="text-lg">Contraseña</label>
                        <p-password class="mt-2"  [feedback]="false" placeholder="Ingrese constraseña"  id="password" [toggleMask]="true" formControlName="password" type="password"
                        [ngClass]="{'ng-invalid ng-dirty': hasError('password', 'required')}"></p-password>
                        @if (hasError('password', 'required')) {
                            <div class="p-error">Por favor ingrese la contraseña</div>
                        }  
                    </div>
                    <br />
                    <button pButton label="Acceder" outlined="true" rounded="true" severity="primary" (click)="login()" class="p-mt-3 w-full text-xl font-bold"></button>
                </form>
            </div>
    </div>
    
</div>

<p-toast>
    <ng-template let-message pTemplate="message">
        <div class="p-toast-message-text">
            <div class="p-toast-summary">{{message.summary}}</div>
            <div class="p-toast-detail" innerHtml="{{message.detail}}"></div>
        </div>
    </ng-template>
</p-toast>

<p-dialog [(visible)]="isLoading" [modal]="true" [style]="{ height: '100vh', width: '100vw' }">
    <ng-template pTemplate="headless">
      <div class="flex justify-content-center align-items-center h-full w-full" style="background-color: rgba(0, 0, 0, 0.08);">
        <div class="flex flex-column align-items-center">
          <p-progressSpinner [style]="{width: '80px', height: '80px'}" [animationDuration]="'2s'"></p-progressSpinner>
          <p class="p-mt-3" style="font-size: 1.2rem; font-weight: 600; color: #007bff;">Cargando, por favor espera...</p>
        </div>
      </div>
    </ng-template>
  </p-dialog>

